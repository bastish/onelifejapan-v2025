---
import WhyItsWorthItModal from './WhyItsWorthItModal.astro';
---

<div class="section-inner">
    <div class="pricing-flex">
        <div class="pricing-column">
            <h3>Estimated Cost<span class="sub">( Guided 4-Day Family Trip)</span></h3>
            <ul class="estimate-list">
                <li><strong>3 - 4 People:</strong> ¥150,000 / person</li>
                <li><strong>5 - 6 People:</strong> ¥140,000 / person</li>
                <li><strong>Other group sizes:</strong> Contact us</li>
            </ul>
            <hr />
            <h3><span class="sub">Self Guided</span></h3>
            <ul class="estimate-list">
                <li class="self-guided-flag">
                    <strong>Self-Guided Available</strong>
                    <button class="btn-link small" type="button" data-bs-toggle="collapse" data-bs-target="#sg-details">
                        details ▼
                    </button>
                </li>
            </ul>
            <div class="collapse" id="sg-details">
                <p class="small text-muted">
                    <strong>Self-Guided Planning Fee:</strong> ¥80,000 per booking<br />
                    <em>Plus on-ground costs (~¥15,000 pp/day):</em><br />
                    • Accommodation (~¥10k/night)<br />
                    • Meals (~¥5k/meal)<br />
                    • Bike & gear (~¥5k/day)<br />
                    • Workshops & transfers (~¥5–8k/day)<br />
                    <br />
                    Includes your custom route plan, bookings held, GPX files, insider notes & remote support.
                </p>
            </div>

            <aside class="other-options">
                <details>
                    <summary><strong>Self-Guided vs. Fully Guided</strong></summary>

                    <p class="small text-muted">
                        This itinerary was created with a guide in mind—Fully Guided and Self-Guided both work, but they
                        offer very different experiences:
                    </p>

                    <ul class="list-unstyled ms-3">
                        <li>
                            <strong>Day-to-day flexibility:</strong><br />
                            <em>Fully Guided:</em> On-the-fly route tweaks, timing checks, and support-vehicle backup let
                            you stop or detour whenever you wish.<br />
                            <em>Self-Guided:</em> You follow a pre-planned route and keep your own schedule—ideal if you
                            enjoy self-navigation and exploration.
                        </li>

                        <li>
                            <strong>Logistics & bookings:</strong><br />
                            <em>Fully Guided:</em> Bikes, gear, luggage transfers, meals, and workshop reservations are all
                            arranged—just show up and ride.<br />
                            <em>Self-Guided:</em> You pay inns (~¥10,000/night pp), meals (~¥5,000/meal pp), bike rental
                            (~¥5,000/day pp) and activities directly—while we handle all the pre-trip planning.
                        </li>

                        <li>
                            <strong>Cultural connections:</strong><br />
                            <em>Fully Guided:</em> We handle introductions to homestay hosts, hands-on workshops, and off-menu
                            local experiences.<br />
                            <em>Self-Guided:</em> You receive insider tips and contact details—but arrange and pay for each
                            experience yourself.
                        </li>

                        <li>
                            <strong>Time investment:</strong><br />
                            <em>Fully Guided:</em> No lines, no paperwork—every minute is bike time or family time.<br
                            />
                            <em>Self-Guided:</em> Expect to spend 30–45 minutes per rental shop visit, plus check-in times
                            at each inn.
                        </li>
                    </ul>

                    <p class="small">
                        <strong>Self-Guided Planning Fee:</strong> ¥80,000 per booking<br />
                        <em>Plus on-ground costs*:</em> ~¥15,000 per person, per day (accommodation, meals, bikes, workshops
                        & transfers)<br />
                        <strong>Fully Guided:</strong> ¥150,000 per person (all logistics, meals, lodging, activities & guide
                        included)
                    </p>

                    <p class="small text-muted">
                        *Actual on-ground costs vary by season and choices made; the ¥15,000/day figure is a reasonable
                        average.
                    </p>
                </details>
            </aside>

            <!-- <WhyItsWorthItModal /> -->
        </div>
        <div class="pricing-column">
            <h3>Estimate Includes</h3>

            <details class="pricing-item">
                <summary>3 nights’ accommodation in traditional inns or farmhouse stays</summary>
                <p>
                    Stay in family-run ryokan, farmhouses, and small inns—where lodging is part of the cultural
                    experience, not just a place to sleep. We select each property for its authentic local character.
                </p>
            </details>

            <details class="pricing-item">
                <summary>3 breakfasts &amp; dinners with local hosts</summary>
                <p>
                    Savor handcrafted kaiseki breakfasts and dinners, plus a hands-on soba-making lesson. Meals blend
                    traditional Japanese fare with familiar options—no buffet lines here.
                </p>
            </details>

            <details class="pricing-item">
                <summary>All listed cultural activities</summary>
                <p>
                    Enjoy every workshop and visit in your itinerary: soba-making, mochi-pounding, papermaking, museum
                    tours, and communal baths. Optional extras like rafting or mountain biking are available at
                    additional cost.
                </p>
            </details>

            <details class="pricing-item">
                <summary>Complete bike rental package</summary>
                <p>
                    Choose an e-bike or cross-bike, complete with helmet, phone mount, rain gear, panniers, and rack. We
                    also provide shared-use gear—rubber boots, gloves, trekking poles—so you’re ready for any route.
                </p>
            </details>

            <details class="pricing-item">
                <summary>Family-friendly gear</summary>
                <p>
                    Child seats are included; bike trailers can be added for a small fee—so even the littlest riders
                    explore safely and comfortably.
                </p>
            </details>

            <details class="pricing-item">
                <summary>Seamless logistics</summary>
                <p>
                    We handle luggage transfers between inns and offer support-vehicle shuttle rides when needed— you
                    travel light and stress-free.
                </p>
            </details>

            <details class="pricing-item">
                <summary>Dedicated English-speaking guide</summary>
                <p>
                    Your guide is on call from morning until evening—route tweaks, snack stops, onsen detours, and
                    post-dinner conversation facilitation ensure a smooth, personalized adventure.
                </p>
            </details>
        </div>
    </div>

    <style lang="scss">
        @use '../../../styles/global' as *;

        .section-inner {
            //        max-width: 1100px;
            margin: 0 auto;
            padding: 0 1rem;
            text-align: left;
        }

        h2 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 1.5rem;
        }

        .intro {
            text-align: left;
            max-width: 900px;
            max-width: 100%;
            margin: 0 auto 2rem;
        }

        .pricing-flex {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            justify-content: center;
        }

        .pricing-column {
            flex: 1 1 300px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            @include respond-to(small) {
                margin-left: 0px;
            }
        }
        .estimate-list {
            //border: 1px solid #ddd;
            padding-left: 15px;
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .estimate-list li,
        .checklist li {
            margin-bottom: 0.75rem;
            font-size: 1rem;
            font-size: 1.3rem;
        }

        .sub {
            //font-weight: normal;
            font-size: 1.5rem;
            display: block;
            margin-top: 0.25rem;
            //color: #555;
        }

        .note {
            margin-top: 2rem;
            text-align: left;
            font-size: 0.95rem;
            color: #666;
        }
    </style>
    <style>
        /* 1) Hide the browser’s default triangle marker */
        details summary::-webkit-details-marker {
            display: none;
        }

        /* 2) Style the summary like your checklist */
        .pricing-item summary {
            position: relative;
            padding-left: 1.5em; /* room for the check */
            cursor: pointer;
            list-style: none;
            margin-bottom: 0.5em;
        }

        /* 3) Outline check-circle on the left */
        .pricing-item summary::before {
            content: '\f058'; /* FontAwesome check-circle */
            font-family: 'Font Awesome 5 Free';
            font-weight: 400; /* regular = outline */
            position: absolute;
            left: 0;
            top: 0.1em;
            color: var(--bs-primary-ultradark);
            font-size: 1em;
        }

        /* 4) Chevron on the right */
        .pricing-item summary::after {
            content: '\f078'; /* FontAwesome chevron-down */
            font-family: 'Font Awesome 5 Free';
            font-weight: 900; /* solid chevron */
            position: absolute;
            right: 0;
            top: 0.1em;
            transition: transform 0.2s ease;
        }
        .pricing-item[open] summary::after {
            transform: rotate(180deg); /* chevron-up when open */
        }

        /* 5) Expanded content styling */
        .pricing-item p {
            margin: 0.5em 1em 1em;
            color: #555;
            line-height: 1.4;
            font-size: 1em;
        }
    </style>
</div>
