---
import NavUtilities from './NavUtilities.astro';
import '../../styles/global.scss';
import logo from '../../assets/olj_logo.png';
---

<nav class="navbar navbar-expand-lg navbar-light custom-navbar">
    <div class="container-fluid">
        <!-- Logo on the left -->
        <a class="navbar-brand custom-navbar-brand" href="/">
            <img src={logo.src} alt="Logo" />
        </a>

        <!-- Toggle button for mobile view -->
        <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarMain"
            aria-controls="navbarMain"
            aria-expanded="false"
            aria-label="Toggle navigation"
        >
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Nav links -->
        <div class="collapse navbar-collapse custom-navbar-collapse" id="navbarMain">
            <ul class="navbar-nav ms-auto custom-navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item dropdown">
                    <a
                        class="nav-link dropdown-toggle"
                        href="#"
                        data-bs-toggle="dropdown"
                        role="button"
                        aria-expanded="false"
                    >
                        Adventures &amp; Tours
                    </a>
                    <ul class="dropdown-menu">
                        <li>
                            <a class="dropdown-item" href="/itinerary/1/family-japan-adventure/"
                                >Japan Family Bike Adventure</a
                            >
                        </li>
                        <li><a class="dropdown-item" href="#">Autumn Bike &amp; Hike</a></li>
                        <li><a class="dropdown-item" href="#">Three Day Rural Immersion</a></li>
                        <li><hr class="dropdown-divider" /></li>
                        <li><a class="dropdown-item" href="#">Custom Adventures</a></li>
                        <li><a class="dropdown-item" href="#">One Month Across Japan</a></li>
                        <li><a class="dropdown-item" href="#">10 Days Kanazawa &amp; Noto</a></li>
                        <li><hr class="dropdown-divider" /></li>
                        <li><a class="dropdown-item" href="#">Intensity</a></li>
                        <li><a class="dropdown-item" href="#">Photos</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="#">Self-Guided</a></li>
                <li class="nav-item"><a class="nav-link" href="#">About</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Contact</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Blog</a></li>
                <!-- <li class="nav-item">
                    <a class="nav-link" href="http://localhost:4321/reference/index.html" target="_blank">o</a>
                </li> -->
            </ul>
        </div>
    </div>
</nav>

<style lang="scss">
    @import '../../styles/global.scss';

    /* Base navbar styles */
    .custom-navbar {
        padding: 0 !important;
    }

    .custom-container {
        padding: 0 !important;
        display: flex;
        align-items: stretch;
    }

    .custom-navbar-brand {
        display: flex;
        align-items: stretch;
    }

    .custom-navbar-brand img {
        height: 100%;
        object-fit: contain;
        width: 226px;
        transition: width 0.3s ease;
    }

    @include respond-to(large) {
        .custom-navbar-brand img {
            width: 175px;
        }
    }

    // .custom-navbar-collapse {
    //     display: flex;
    //     flex-direction: column;
    //     padding: 0;
    // }

    .custom-navbar-nav {
        padding: 0;
        margin-bottom: 0;
    }

    .nav-link {
        color: var(--primary-color);
        font-weight: 500;
        &:hover,
        &:focus {
            color: #e0e0e0 !important;
        }
    }

    .dropdown-menu {
        background-color: var(--bs-light);
        .dropdown-item {
            color: #333 !important;
            border-bottom: 1px solid #e0e0e0;
        }
    }

    .navbar a {
        color: var(--bs-link-color);
        font-size: 1.2em;
    }
    .navbar a:hover {
        color: var(--bs-link-hover-color);
    }
    .nav-item {
        border-right: 1px solid var(--bs-link-hover-color);
    }
    .nav-item:last-child {
        border-right: 0px solid var(--bs-link-hover-color);
    }

    /* Mobile adjustments: override container constraints to span full width */
    @media (max-width: 992px) {
        .custom-navbar,
        .custom-container {
            width: 100% !important;
            max-width: 100% !important;
            margin: 0;
            padding: 0;
        }
        /* Remove ms-auto so nav items align left */
        .custom-navbar-nav {
            margin-left: 0 !important;
            width: 100%;
        }
        .nav-link {
        }
        .nav-item {
            border-bottom: 1px solid #e0e0e0;
            border-right: 0px solid var(--bs-link-hover-color);
        }
    }
</style>
